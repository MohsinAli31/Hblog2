{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\"; // import { request } from 'https';\n\nexport let SharedService = /*#__PURE__*/(() => {\n  class SharedService {\n    constructor(http, router) {\n      this.http = http;\n      this.router = router; // categoryId = new Subject<any>();\n\n      this.CommentList = new BehaviorSubject({});\n      this.cList = new BehaviorSubject([]);\n      this.categoryId = new BehaviorSubject(0);\n      this.userName = new BehaviorSubject('Not login');\n      this.userImage = new BehaviorSubject('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAnFBMVEX////dADHDAC/QADDDAC3CACrAABrBACXdAC6/ABHcACjcACHBACDbABT64eX98/Xy0dbFHjvbABv67fDvxszytLzVa3zeHj3na33dipbhN1LKN1DosbnlqLG+AADvpK7afIngLErjnKbrh5XNRVzkUGbaAAb1xMvpe4rtk5/um6blXnHVZXbSWmzQTmLWN1HPACPLAADPABHSHjy0SzpbAAAK/ElEQVR4nO2da3uaWhCFFQEFQQ3GxCSnmtRGc2vTnvP//9sBlAjO7OuMon32+tg2lKVhvXtmX+h0nJycnJycnJycnJycnJycnJycnJycnJycEE1e/v24bvsmjqfR6jaNe/3Ie5y0fSvH0OjtKY0H3W7P8/wkurobtX1DvBovn7Nhbq9bOvRKkw/fpm3fFptm7+kw7u60dZgrSBa//hm3fW8Mup7H2Ze9usPCZBheeu5MimzpNlR3mP+29iP/cnNn9HZbZovM4faR9C4xd/JsSYfAHuawyp2LeiTHs+f1MEbsCRxeWu5sDrJFy2GZO8kl5M5kFSMPn5bDInfC8LxzZ/SKZYu+Q++8xzvT5T2eLUYOd7nz/ezGO3m2ZBr2tBwWj2QS/Tir3NnMh5JssXCYf5FBGH1s2ja21eRFFp22Dr1t7ty0njs62WLrsDTZbu5Ml09rvYfP1qG3DdeWckc7W5r6bejQayl3NvPU5OHba/gtMbdYjHcWp8ydyUv3sCbSVfzc+RHYWPS8ftg/Te6YZ0td6aZzHdk5PE3uaI5bhBo85Re5svwSS5PHzZ2ZoOTTV7bML/MttHfolXXWcXJnM8/ssqX+FcblpRKfZLHInegnc+4QsqWu4Wt5tTurOG3IZ82d0WuXkC11ZdsnaBpSv8StySjhyJ0xMVvqiue7i970GRx6Ze58EnOn6Lcw2cu1rj7x0YLHoVfmzsM3e4OTNcPD96Wc9pVsqY+bXNg/kOOU0WBB+0r21McUEZ7GjNFgSftKFOoDLewNdp74HsJuNqtdmEj9hvyA4PCd7znc0b4Smfp7BT8JDl/4HO5oX4mB+pX6HwSHb0M2h1lzKMlD/VLJHcHhjM1h/HJwaS7qe174D8HhNVuYpoeJPmIDRkgZhI+4gFijfSU26lNw2BlzJU0KJ5XYqB+RRqZdHiA2aF+Jifq+RzHYuedx2KB9JSbq+1ckhzzIH3TRiwcswAh+kByuWBwe0L4SD/VJOORCfoo3jsYRx5dIdLjhACKgfSUW6pOAn9fAHEAEtK/EQv2QtrphyuAwfhde/hcDMEjA77DUwAjtK3FQn1L/FrolAxGlfaUrctb4CdHhMxkXKO0r0alPxGGnMyd38m+l1ydTv0+p8Au9UoE4fJNen0z95JHocEl1KKB9pTE1axJCP7gUFflC2leiUp8IfHoNLKT9139A/BKpOOxMad+hhPaViLU+2WGHlqUpmFIA7KBR30/I08Ek5A/uDy83/gPuiFTrEyv8QiTkQ9q//fl++Eck6gcPZIeUtjdC+9sebDr0CdTvP5IdUpAPab9JexEYiFOoTwY+re09BM/cc9wLfh3+4ZRQ64dU4JPa3pD2o3W35y1AvhOoT6x/y5uyRz6k/SrOHcLGCoH6EcOSE2uHCO0Hg9whMqNpT/2IbtC+7Y3QPitX0MKhpDX1yfVvIdu2dwxoX06a91CG2VKfAYf2be8MTHqVjbtiFTR8eGypD4PZQpZtb6STX/YLCof9G/B3llPCyJXMZVkDD5eHFxqXFyoc+iEApSX1EzAGtNDMCoiDGJh4+3KI3JjlvD4D8G3b3vEKXGhbpZQOkRkxO+pz4LAzsvoO12BidrP9pLb7LeDg1G41H73+LWTj8Guh5V67MmzrEOkB2lAfeaBtZIN8SPtq9NcTffg21GcBfv7hmztEll5U0Nk5RGb9LKgf0Ga4K1m0vVO4xKVaR71z6PfBv7CgPgsObZCP1PZfzKl2diF9TvNan6H+LW/OGPmQ9vvRbeUQGVGaU58F+BZt74OFloX2UP3anQdRZl7rkxZ87WVcAw8h7efwbBPkGTKmPsSqlYxXe6eA9uP9r8GXQ4RlxrV+xLQ7yBCICO1ri1b2e0iRh8iQ+kzAN17tDWlfb5zvHSKDU0PqM+HQtO2N0H5T+z2v7QNGniKzeX2WCr+QWdsboX39I6o5RAanZtQnrfCuy2jpF7L0ohHGNYc+UhkYzesz4dAQ+Rmk/ar+8/Xd6sjg1Ij6bA4nJsgfwp9v/HjdoR+Cfzs2KRNDrh2IJshHaD8TOsQGpybUZ6nwC43X+g4zuOi62XBtOETC0IT6tBXeden/liK0n6wHdfWCupCNdQbUpy5p20sf+WuYjqun+7o+HxqCWaNPfd9nc6hdAyO0N5d2rc+GQwPkI7Q3lzb1mSr8Qrptb+lCS33p1vrEFd516ba9pQst9aVLffKCr700296DAc9/p1vrM1X45X+p51CwrcJcmtTnw6HuBq+M6zwOPer7IeMhJ1pLv5QLLfWlRX3ihqemtNreyoWW+tKiPlv9W0gH+Sy0r6RDffIK77p0ln5JtlWYS4f6jDjUQj4T7Stp7Ndnq38LabS9mWhfSYP6DAu+9lIjX7CJ0loa8/ps9W8hddubjfaV1NTnmeGupPwtVWyrMJd6Xp+v/i2kqoEx2ndvMf13hQlZ2qSiPulIEyjV0i+E9rN0gKnnY4JrTpXUZ1nwtZeiBsa2VQjmAvDTPbHJXAX1GSv8QgrkI7QXtSBxh8i0vor6rMBXtb0x2otm/wUntGLVrJz6jPVvITnyMdqLzrATnTqPDKPl1Gd2KG17Y7QXNj5Ep+widJNTnxeHnanstxTbRCmccxQ5xLJGSn3GCr+UbKYbqe3F37nIIZY1slqfYcNTUxLkY7QX00V4FjT2XEmoz1rhF5IgH6vtxWdlCh1iWSOhPnkP96HES7+w2l7SYBWf541Fh5j6zDiUzXQjSy9kaxvEDrGsEVOf3aEQiHATZbm9ycIhulhUOK/PjENJDYzRXjaKlZw6j920kPqsFX4hUfyjtb3sTF6JQyxrhKf0MAO/I9zghdFeOpEje3MAdtci6vPWv4UEbW+4iVKxU0rmEMsaAfWZVnjXhccjRntZzijeFQRXn4hO6WHHoajtjczbK6pl6fstsKzBqc/a8N4KRT56ZIL87G+pQ3QqAqU+0wrvutC2N0Z7xYSx/B0lWNag1CcfaQKFIR/ZRKnckSl3iH41GPXZgY8DEaO9PGdUDn1sXy9GfX4cYoecoLRXrUxRvEkH226HUf8IDpFDTpBtFaqcUTpEs+YRUJ/hSBMoiPx4DqVcMa16G1LycQMEkche4RdC7j1GpDCoft9THwriIvg8gkOms71N32gl+Bgej+DwjedFCSwOgwV3/Vtqcp8ynLnL4NCPPo/14qfNbUb2SHbohx4/7fdaZtQT6ogO/STiXKCAaUV8JxLNYT96PP4r5qZz0ouRKA6D6OdpXoY4eiZEjr1DP3o43RstCZFj69APr44ZMFDLgWXk2Dn0E9YVUHp6tYscK4cnCRio6dxmlGPhMFicKGCgbCLH2OFJAwbq2jhyDB3mI5i233s865pFjtn7gNsIGCizyDFx2I/uzuPl3OMXg1GOvsNg8XE+b1g3iBxdh0G7AQN1/aQZOXoO8xFM2wEDpRk5Og7zgOFvaXPoVedx1HDYP06PgkM6kaN0GERnFDBQ6shRdYSjh7ZGaLq6fpJ7lDr0oyvuBQjHUB45disV/NA/bQlor7ehxYohPwnPYYSmKUnkiBy2VALaa/QueBxxhyfrMXFK0CLHHLZcAtprhhWP0OGRm9jH1TIGIzng8DxKQGuNXw57OQcO+4sLCxio6XszVpunt1xiwEA1I6dxTtSFBgxUvUVeO3PvggMGah85lcOLGsHoaLxKG+cIX9oIRke7Wbne3xMwUGXx2PubAgZq85T1zrHHxKnl778sYJycnJycnJycnJycnJycnE6k/wGjA+kuQ8hcgAAAAABJRU5ErkJggg==');\n      this.loginFlag = new BehaviorSubject(false);\n      this.username = '';\n      this.list = [];\n      this.categoryList = [];\n      this.postList = [];\n      console.log('shared constructore');\n      this.getLoginUser(); // this.loginUserId = this.getToken('id');\n      // this.token = this.getToken('token');\n\n      console.log(' constructor', typeof this.categoryId);\n    }\n\n    loginFlagCheck() {\n      if (localStorage.getItem('currentUser')) {\n        this.loginFlag.next(true);\n      }\n    }\n\n    getUserProfileById() {\n      let id = JSON.parse(localStorage.getItem('currentUser')).id;\n      return this.http.get(`userprofile/${id}`).pipe(map(res => res));\n    }\n\n    createUserProfile(formData) {\n      let id = JSON.parse(localStorage.getItem('currentUser')).id;\n      return this.http.post(`userprofile/${id}`, formData, {\n        headers: {\n          Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('currentUser')).accesstoken\n        }\n      });\n    }\n\n    getLoginUser() {\n      if (localStorage.getItem('currentUser')) {\n        this.userName.next(JSON.parse(localStorage.getItem('currentUser')).name);\n      }\n    }\n\n    getAllCatagories() {\n      // console.log('getAll catagory service Called');\n      return this.http.get(`category/getAll`).pipe(map(res => res)).subscribe(response => {\n        this.cList.next(response);\n      }); // .subscribe((res) => {\n      //\n      // });\n    }\n\n    postLike(id, postId) {\n      return this.http.post(`like/${id}/${postId}`, '');\n    }\n\n    getLikeByPostId(id) {\n      return this.http.get(`like/post/${id}`);\n    }\n\n    updateComments(id, formData) {\n      return this.http.put(`comment/${id}/update`, formData, {\n        headers: {\n          Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('currentUser')).accesstoken\n        }\n      });\n    }\n\n    deleteComments(id) {\n      return this.http.delete(`comment/${id}/delete`, {\n        headers: {\n          Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('currentUser')).accesstoken\n        }\n      });\n    }\n\n    createComments(userId, postId, formData) {\n      return this.http.post(`comment/${userId}/${postId}/create`, formData, {\n        headers: {\n          Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('currentUser')).accesstoken\n        }\n      });\n    } //get comments by comment id\n\n\n    getcommentById(id) {\n      console.log('GetCommentservice Called');\n      return this.http.get(`comment/${id}`).pipe(map(res => res));\n    } //get comments by post id here\n\n\n    getComments(id) {\n      console.log('GetCommentservice Called');\n      return this.http.get(`comment/post/${id}`).pipe(map(res => res));\n    }\n\n    deletePost(id) {\n      this.http.delete(`post/${id}/delete`).subscribe(res => {\n        // console.log(res);\n        this.router.navigate(['dashboard']);\n      });\n    }\n\n    upDatePost(formData, id) {\n      this.http.put(`http://localhost:8000/post/${id}/update`, formData, {\n        headers: {\n          Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('currentUser')).accesstoken\n        }\n      }).subscribe(res => {\n        // console.log('res here', res);\n        alert('Post Updated Successfully');\n        this.router.navigate(['dashboard']);\n      });\n    }\n\n    createCategory(formValues) {\n      // console.log('CreateCatagory service Called');\n      return this.http.post(`category/create`, formValues);\n    }\n\n    createPosts(formValues) {\n      // console.log('CreatePost service Called');\n      this.http.post('http://localhost:8000/post/38/9/create', formValues, {\n        headers: {\n          Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('currentUser')).accesstoken\n        }\n      }).subscribe(res => {\n        console.log('res here', res);\n      });\n    }\n\n    getPosts() {\n      // console.log('Getpost service Called');\n      return this.http.get(`post/getAll`);\n    }\n\n    getLogin(values) {\n      // console.log('getLogin service Called');\n      this.http.post(`user/login`, values).subscribe(res => {\n        // console.log(res);\n        localStorage.setItem('currentUser', JSON.stringify(res));\n        alert('user Login Suuccessfull');\n\n        if (this.isAuthenticated()) {\n          this.isLoggedIn = true;\n        }\n\n        this.router.navigate(['/dashboard']);\n      }, err => {\n        alert('something went wrong');\n      });\n    }\n\n    getPostOnCategorySelect(id) {\n      // console.log('getPostOnCategorySelect service Called');\n      // console.log('before id here from category ', this.categoryId.value);\n      return this.http.get(`post/category/${id}`).pipe(map(res => res));\n    }\n\n    getPostOnIdSelect(id) {\n      // console.log('getPostOnIdSelect service Called');\n      // console.log('before id here from category ', this.categoryId.value);\n      return this.http.get(`post/${id}`).pipe(map(res => res));\n    }\n\n    getAllCategory() {\n      // console.log('getAll catagory service Called');\n      return this.http.get(`category/getAll`).pipe(map(res => res));\n    }\n\n    isAuthenticated() {\n      // console.log('isauthenticated service Called');\n      // console.log('authenticated', this.getToken() !== null ? true : false);\n      // return JSON.parse(localStorage.getItem('currentUser')!).accesstoken;\n      // return this.getToken() !== null ? true : false;\n      return this.getToken(); // console.log('shared service ', localStorage.getItem(username));\n    }\n\n    loggenIn(isLoggedIn) {\n      // console.log('isLogged service Called');\n      this.isLoggedIn = isLoggedIn;\n    }\n\n    getToken() {\n      if (localStorage.getItem('currentUser')) {\n        return true; // return JSON.parse(localStorage.getItem('currentUser')!).accesstoken;\n      } else return false; // console.log('get Token service Called');\n      // const userToken = JSON.parse(\n      //   localStorage.getItem('currentUser')!\n      // ).accesstoken;\n      // return userToken !== null\n      //   ? this.router.navigate(['login'])\n      //   : JSON.parse(localStorage.getItem('currentUser')!).accesstoken;\n\n    }\n\n    logOut(token) {\n      // console.log('get Logout service Called');\n      localStorage.removeItem(token);\n    }\n\n    ngOnInit() {}\n\n  }\n\n  SharedService.ɵfac = function SharedService_Factory(t) {\n    return new (t || SharedService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router));\n  };\n\n  SharedService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: SharedService,\n    factory: SharedService.ɵfac,\n    providedIn: 'root'\n  });\n  return SharedService;\n})();","map":null,"metadata":{},"sourceType":"module"}